{% block header_wrapper %}
<header class="navbar navbar-static-top masthead">
  <div class="container">

    <!-- ðŸ”¹ Logo + Toggle -->
    <div class="navbar-header">
      <!-- Logo -->
      <hgroup class="{{ g.header_class }} site-logo">
        {% if g.site_logo %}
          <a class="logo" href="{{ h.url_for('home.index') }}">
            <img src="{{ h.url_for_static_or_external(g.site_logo) }}" alt="{{ g.site_title }}" />
          </a>
        {% else %}
          <h1><a href="{{ h.url_for('home.index') }}">{{ g.site_title }}</a></h1>
        {% endif %}
      </hgroup>

      <!-- Toggle Mobile -->
      <button data-target="#main-navigation-toggle" data-toggle="collapse" 
              class="navbar-toggle collapsed" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="fa fa-bars"></span>
      </button>
    </div>

    <!-- ðŸ”¹ Navigation -->
    <div class="collapse navbar-collapse" id="main-navigation-toggle">
      <nav class="section navigation navbar-right">
        <ul class="nav nav-pills">
          {{ h.build_nav_main(
            ('dataset.search', _('Dataset')),
            ('organization.index', _('OPD')),
            ('group.index', _('Kategori')),
            ('home.about', _('Tentang'))
          ) }}

          {% if not c.userobj %}
            <li>
              <a href="{{ h.url_for('user.login') }}">
                <i class="fa fa-sign-in"></i> {{ _('Login') }}
              </a>
            </li>
          {% else %}
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                {{ c.userobj.display_name }} <b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="{{ h.url_for('user.edit', id=c.userobj.name) }}"><i class="fa fa-cog"></i> Profil</a></li>
                <li><a href="{{ h.url_for('dashboard.index') }}"><i class="fa fa-tachometer"></i> Dashboard</a></li>
                <li><a href="{{ h.url_for('/user/_logout') }}"><i class="fa fa-sign-out"></i> Keluar</a></li>
              </ul>
            </li>
          {% endif %}
        </ul>
      </nav>
    </div>

  </div>
</header>

<style>
  header.masthead {
    background: #535353;
    padding: 8px 0;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }
  header.masthead .site-logo img {
    max-height: 40px;
  }
  header.masthead .nav > li > a {
    color: #fff;
    font-weight: 500;
    padding: 10px 15px;
  }
  header.masthead .nav > li > a:hover {
    background: transparent;
    color: #ffd966;
  }

  /* Mobile */
  .navbar-toggle {
    border: none;
    background: transparent;
    font-size: 22px;
    color: #fff;
    margin-top: 5px;
  }
</style>
{% endblock %}
